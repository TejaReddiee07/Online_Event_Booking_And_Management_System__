{% extends "layout_org.html" %}
{% block title %}Payment - EventHub{% endblock %}

{% block org_content %}
<div class="row justify-content-center">
  <div class="col-md-8">
    <div class="card hall-card">
      <div class="card-body">
        <h3 class="card-title mb-4 text-center">üí≥ Payment Details</h3>

        <div class="alert alert-success mb-4">
          <strong>‚úÖ Your booking has been approved!</strong><br>
          Please complete the payment to confirm your reservation.
        </div>

        <!-- Booking Summary -->
        <div class="mb-4">
          <h5 class="border-bottom pb-2 mb-3">Booking Summary</h5>
          
          <div class="row mb-2">
            <div class="col-6"><strong>Event Name:</strong></div>
            <div class="col-6">{{ booking.event_name }}</div>
          </div>
          
          <div class="row mb-2">
            <div class="col-6"><strong>Hall:</strong></div>
            <div class="col-6">{{ hall.title if hall else 'N/A' }}</div>
          </div>
          
          <div class="row mb-2">
            <div class="col-6"><strong>Dates:</strong></div>
            <div class="col-6">{{ booking.from_date }} to {{ booking.to_date }}</div>
          </div>
          
          <div class="row mb-2">
            <div class="col-6"><strong>Number of People:</strong></div>
            <div class="col-6">{{ booking.num_people }}</div>
          </div>
          
          <div class="row mb-2">
            <div class="col-6"><strong>Hall Price:</strong></div>
            <div class="col-6">‚Çπ{{ booking.total_price }}</div>
          </div>

          {% if food_details %}
          <div class="row mb-2">
            <div class="col-6"><strong>Food Package:</strong></div>
            <div class="col-6">{{ food_details.name }} ({{ food_details.plates }} plates)</div>
          </div>
          
          <div class="row mb-2">
            <div class="col-6"><strong>Food Price:</strong></div>
            <div class="col-6">‚Çπ{{ food_details.price }}</div>
          </div>
          {% endif %}
        </div>

        <!-- Total Amount -->
        <div class="alert alert-primary mb-4">
          <div class="row">
            <div class="col-6"><h4 class="mb-0"><strong>Total Amount:</strong></h4></div>
            <div class="col-6 text-right"><h3 class="mb-0"><strong>‚Çπ{{ total_amount }}</strong></h3></div>
          </div>
        </div>

        <!-- Payment Options -->
        <div class="mb-4">
          <h5 class="border-bottom pb-2 mb-3">Payment Options</h5>
          
          <div class="card bg-dark mb-3 p-3">
            <h6>üì± UPI Payment</h6>
            <p class="mb-2">Scan QR code or use UPI ID:</p>
            de>eventhub@upi</code>
          </div>

          <div class="card bg-dark mb-3 p-3">
            <h6>üí≥ Card Payment</h6>
            <p class="mb-0">Pay via Credit/Debit card at venue counter</p>
          </div>

          <div class="card bg-dark mb-3 p-3">
            <h6>üíµ Cash Payment</h6>
            <p class="mb-0">Cash accepted at venue</p>
          </div>
        </div>

        <!-- Fake Payment Confirmation -->
        <form method="post" action="{{ url_for('organizer.confirm_payment', booking_id=booking._id) }}">
          <div class="alert alert-warning mb-3">
            <small>‚ö†Ô∏è This is a demo payment system. Click "Confirm Payment" to simulate successful payment.</small>
          </div>
          
          <button type="submit" class="btn btn-success btn-lg btn-block">
            Confirm Payment (‚Çπ{{ total_amount }})
          </button>
          
          <a href="{{ url_for('organizer.bookings') }}" class="btn btn-secondary btn-lg btn-block mt-2">
            Pay Later
          </a>
        </form>
      </div>
    </div>
  </div>
</div>
{% endblock %}
